<% locationable.locations.each do |location| %>
<div id="map"></div>
<script>
var map;
var myLatLng = {lat: <%= location.latitude %>, lng: <%= location.longitude %>}
function initMap() {
  map = new google.maps.Map(document.getElementById('map'), {
    center: myLatLng,
    zoomControl: true,
    mapTypeControl: true,
    streetViewControl: true,
    zoom: 12
  });

  var marker = new google.maps.Marker({
    position: map.getCenter(),
    icon: {
      path: google.maps.SymbolPath,
      scale: 10
    },
    draggable: true,
    map: map
  });
}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmzfWq-9rHOvU84cWONAjnARHDztRSmSU&callback=initMap"
async defer></script>
<% end %>
